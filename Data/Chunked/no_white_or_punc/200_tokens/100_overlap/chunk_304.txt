funds in account 1 IF SELECT balance FROM accounts WHERE accountid  senderid  0 THEN  Roll back the transaction if there are insufficient funds ROLLBACK SIGNAL SQLSTATE 45000 SET MESSAGETEXT