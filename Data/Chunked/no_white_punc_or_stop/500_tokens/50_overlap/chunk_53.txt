transaction insufficient funds ROLLBACK SIGNAL SQLSTATE 45000 SET MESSAGETEXT rollbackmessage ELSE Log transactions sufficient funds INSERT transactions accountid amount transactiontype VALUES senderid amount WITHDRAWAL INSERT transactions accountid amount transactiontype VALUES receiverid amount DEPOSIT Commit transaction COMMIT SELECT commitmessage Result END END DELIMITER Limitations Relational Databases Schemas may evolve time apps need full strength ACID compliance Joins expensive lot data